import{a as O,b,c as y,d as F,f as S,g as E,h as I,l as L,n as N,o as k}from"./chunk-GO7336BY.js";import{D as u,I as s,J as o,K as e,L as f,P as h,Q as C,R as v,S as r,U as x,fa as M,ga as P,ja as w,o as c,w as t,z as _}from"./chunk-5FDDBATH.js";function T(i,l){i&1&&(o(0,"div",12),r(1," El usuario es requerido "),e())}function q(i,l){i&1&&(o(0,"div",12),r(1," La contrase\xF1a es requerida "),e())}function G(i,l){if(i&1&&(o(0,"div",13),r(1),e()),i&2){let a=C();t(),x(" ",a.errorMessage," ")}}var z=class i{fb=c(L);authService=c(k);router=c(w);loginForm;errorMessage="";isLoading=!1;constructor(){this.loginForm=this.fb.group({username:["",b.required],password:["",b.required]})}onSubmit(){if(this.loginForm.valid){this.isLoading=!0,this.errorMessage="";let{username:l,password:a}=this.loginForm.value;setTimeout(()=>{this.authService.login(l,a)?this.router.navigate(["/dashboard"]):this.errorMessage="Usuario o contrase\xF1a incorrectos",this.isLoading=!1},1e3)}else this.loginForm.markAllAsTouched()}static \u0275fac=function(a){return new(a||i)};static \u0275cmp=_({type:i,selectors:[["app-login"]],decls:34,vars:10,consts:[[1,"login-container"],[1,"login-card"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","username"],["type","text","id","username","formControlName","username","placeholder","Ingrese su usuario"],["class","error-message",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Ingrese su contrase\xF1a"],["class","error-message general-error",4,"ngIf"],["type","submit",1,"login-btn",3,"disabled"],[1,"demo-credentials"],[1,"error-message"],[1,"error-message","general-error"]],template:function(a,n){if(a&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),r(3,"Iniciar Sesi\xF3n"),e(),o(4,"form",2),h("ngSubmit",function(){return n.onSubmit()}),o(5,"div",3)(6,"label",4),r(7,"Usuario"),e(),f(8,"input",5),u(9,T,2,0,"div",6),e(),o(10,"div",3)(11,"label",7),r(12,"Contrase\xF1a"),e(),f(13,"input",8),u(14,q,2,0,"div",6),e(),u(15,G,2,1,"div",9),o(16,"button",10),r(17),e()(),o(18,"div",11)(19,"h4"),r(20,"Credenciales de demo:"),e(),o(21,"ul")(22,"li")(23,"strong"),r(24,"admin"),e(),r(25," / admin123"),e(),o(26,"li")(27,"strong"),r(28,"usuario1"),e(),r(29," / pass123"),e(),o(30,"li")(31,"strong"),r(32,"demo"),e(),r(33," / demo123"),e()()()()()),a&2){let d,m,p,g;t(4),s("formGroup",n.loginForm),t(4),v("error",((d=n.loginForm.get("username"))==null?null:d.invalid)&&((d=n.loginForm.get("username"))==null?null:d.touched)),t(),s("ngIf",((m=n.loginForm.get("username"))==null||m.errors==null?null:m.errors.required)&&((m=n.loginForm.get("username"))==null?null:m.touched)),t(4),v("error",((p=n.loginForm.get("password"))==null?null:p.invalid)&&((p=n.loginForm.get("password"))==null?null:p.touched)),t(),s("ngIf",((g=n.loginForm.get("password"))==null||g.errors==null?null:g.errors.required)&&((g=n.loginForm.get("password"))==null?null:g.touched)),t(),s("ngIf",n.errorMessage),t(),s("disabled",n.loginForm.invalid||n.isLoading),t(),x(" ",n.isLoading?"Iniciando sesi\xF3n...":"Iniciar Sesi\xF3n"," ")}},dependencies:[P,M,N,S,O,y,F,E,I],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:var(--primary-gradient);padding:20px}.login-card[_ngcontent-%COMP%]{background:var(--bg-primary);padding:40px;border-radius:var(--radius-xl);box-shadow:var(--shadow-xl);width:100%;max-width:400px;border:1px solid var(--border-light)}.login-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;color:var(--text-primary);font-size:28px;font-weight:600}.form-group[_ngcontent-%COMP%]{margin-bottom:24px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:var(--text-primary);font-weight:600;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:14px 18px;border:2px solid var(--border-light);border-radius:var(--radius-md);font-size:16px;transition:var(--transition-normal);box-sizing:border-box;background:var(--bg-primary);color:var(--text-primary)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #2563eb1a}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]{border-color:#ef4444}.error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:14px;margin-top:5px;font-weight:500}.general-error[_ngcontent-%COMP%]{text-align:center;margin:15px 0;padding:12px;background-color:#fee2e2;border-radius:var(--radius-md);border:1px solid #fecaca;color:#dc2626;font-weight:500}.login-btn[_ngcontent-%COMP%]{width:100%;padding:16px;background:var(--primary-gradient);color:#fff;border:none;border-radius:var(--radius-md);font-size:16px;font-weight:600;cursor:pointer;transition:var(--transition-normal)}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:var(--shadow-lg)}.login-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.demo-credentials[_ngcontent-%COMP%]{margin-top:30px;padding:20px;background-color:var(--bg-tertiary);border-radius:var(--radius-md);border-left:4px solid var(--primary-color)}.demo-credentials[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 15px;color:var(--text-primary);font-size:16px;font-weight:600}.demo-credentials[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px}.demo-credentials[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px;color:var(--text-secondary);font-weight:500}.demo-credentials[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--primary-color);font-family:Courier New,monospace;font-weight:600}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:10px}.login-card[_ngcontent-%COMP%]{padding:30px 20px}.login-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}}"]})};export{z as LoginComponent};
